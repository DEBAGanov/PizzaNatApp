# üìã –û—Ç—á–µ—Ç –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å–∏—Å—Ç–µ–º—ã –∞–¥—Ä–µ—Å–æ–≤ PizzaNat

**–î–∞—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**: 2024-12-28  
**–í–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**: 1.0.0  
**–¢–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫**: AI Assistant  
**Backend API**: https://api.pizzanat.ru/api/v1/

## üéØ –û–±–∑–æ—Ä —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–ü—Ä–æ–≤–µ–¥–µ–Ω–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –ø–æ–¥—Å–∫–∞–∑–æ–∫ –∞–¥—Ä–µ—Å–æ–≤ —Å –∑–æ–Ω–∞–ª—å–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–æ–π –¥–ª—è –≥–æ—Ä–æ–¥–∞ –í–æ–ª–∂—Å–∫.

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API

### 1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Backend API
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –£–°–ü–ï–®–ù–û
- **URL**: https://api.pizzanat.ru/api/v1/
- **–í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞**: 0.1-1.0 —Å–µ–∫—É–Ω–¥
- **HTTP —Å—Ç–∞—Ç—É—Å**: 200 OK

### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥—Å–∫–∞–∑–æ–∫ –∞–¥—Ä–µ—Å–æ–≤

#### 2.1 Endpoint: `/delivery/address-suggestions`
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –£–°–ü–ï–®–ù–û
- **–ú–µ—Ç–æ–¥**: GET
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: query, limit

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤:**
```bash
‚úÖ –ü–æ–∏—Å–∫ "Volzhsk" ‚Üí 2 –ø–æ–¥—Å–∫–∞–∑–∫–∏
‚úÖ –ü–æ–∏—Å–∫ "–õ–µ–Ω–∏–Ω–∞" ‚Üí 1 –ø–æ–¥—Å–∫–∞–∑–∫–∞  
‚úÖ –ü—É—Å—Ç–æ–π –∑–∞–ø—Ä–æ—Å ‚Üí –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ []
‚úÖ –ö–æ—Ä–æ—Ç–∫–∏–π –∑–∞–ø—Ä–æ—Å ‚Üí –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ []
```

**–ü—Ä–∏–º–µ—Ä—ã –æ—Ç–≤–µ—Ç–æ–≤:**
```json
[
  {
    "address": "–í–æ–ª–∂—Å–∫, —É–ª–∏—Ü–∞ –õ–µ–Ω–∏–Ω–∞, –≥–æ—Ä–æ–¥—Å–∫–æ–π –æ–∫—Ä—É–≥ –í–æ–ª–∂—Å–∫, –ú–∞—Ä–∏–π –≠–ª, –ü—Ä–∏–≤–æ–ª–∂—Å–∫–∏–π —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã–π –æ–∫—Ä—É–≥, 425000, –†–æ—Å—Å–∏—è",
    "shortAddress": "–í–æ–ª–∂—Å–∫, —É–ª–∏—Ü–∞ –õ–µ–Ω–∏–Ω–∞, –≥–æ—Ä–æ–¥—Å–∫–æ–π –æ–∫—Ä—É–≥ –í–æ–ª–∂—Å–∫, –ú–∞—Ä–∏–π –≠–ª, –ü—Ä–∏–≤–æ–ª–∂—Å–∫–∏–π —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã–π –æ–∫—Ä—É–≥, 425000",
    "latitude": 55.8624715,
    "longitude": 48.3620436,
    "source": "nominatim",
    "metadata": "stop/node"
  }
]
```

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—á–µ—Ç–∞ –¥–æ—Å—Ç–∞–≤–∫–∏

#### 3.1 Endpoint: `/delivery/estimate`
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –£–°–ü–ï–®–ù–û
- **–ú–µ—Ç–æ–¥**: GET
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: address, orderAmount

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤:**
```bash
‚úÖ –í–æ–ª–∂—Å–∫, 500‚ÇΩ –∑–∞–∫–∞–∑ ‚Üí 250‚ÇΩ –¥–æ—Å—Ç–∞–≤–∫–∞
‚úÖ –í–æ–ª–∂—Å–∫, 1500‚ÇΩ –∑–∞–∫–∞–∑ ‚Üí –ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞
‚úÖ –í—Ä–µ–º—è –¥–æ—Å—Ç–∞–≤–∫–∏: 30-50 –º–∏–Ω—É—Ç
‚úÖ –ó–æ–Ω–∞: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –∑–æ–Ω–∞ –í–æ–ª–∂—Å–∫
```

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```json
{
  "estimatedTime": "30-50 –º–∏–Ω—É—Ç",
  "estimatedTimeMin": 30,
  "estimatedTimeMax": 50,
  "baseCost": 250,
  "deliveryCost": 250,
  "isDeliveryFree": false,
  "freeDeliveryThreshold": 1200,
  "deliveryAvailable": true,
  "zoneName": "–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –∑–æ–Ω–∞",
  "zoneDescription": "–î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –≥–æ—Ä–æ–¥—É –í–æ–ª–∂—Å–∫ (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ)",
  "city": "–í–æ–ª–∂—Å–∫",
  "region": "–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ú–∞—Ä–∏–π –≠–ª",
  "currency": "RUB",
  "workingHours": "09:00-22:00",
  "message": "–î–æ—Å—Ç–∞–≤–∫–∞ - 250 ‚ÇΩ"
}
```

## üîß –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. Clean Architecture
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü–†–û–í–ï–†–ï–ù–û
- **Data Layer**: AddressRepositoryImpl, AddressApiService
- **Domain Layer**: Address, GetAddressSuggestionsUseCase
- **Presentation Layer**: ZonalAddressTextField

### 2. Dependency Injection
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü–†–û–í–ï–†–ï–ù–û
- **–ú–æ–¥—É–ª—å**: NetworkModule, RepositoryModule
- **–°–µ—Ä–≤–∏—Å—ã**: AddressApiService –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤–Ω–µ–¥—Ä–µ–Ω

### 3. –ö–æ–º–ø–∏–ª—è—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –£–°–ü–ï–®–ù–û
- **–û—à–∏–±–∫–∏**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –∏–∫–æ–Ω–∫–∞–º–∏ –∏ —Ç–∏–ø–∞–º–∏
- **–í—Ä–µ–º—è —Å–±–æ—Ä–∫–∏**: ~30 —Å–µ–∫—É–Ω–¥

## üì± –ü–ª–∞–Ω UI —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

#### 1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ZonalAddressTextField
- [ ] –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ —ç–º—É–ª—è—Ç–æ—Ä–µ/—É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
- [ ] –ü–µ—Ä–µ—Ö–æ–¥ –∫ —ç–∫—Ä–∞–Ω—É CheckoutScreen
- [ ] –í–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞ –≤ –ø–æ–ª–µ –∞–¥—Ä–µ—Å–∞
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—è–≤–ª–µ–Ω–∏—è –ø–æ–¥—Å–∫–∞–∑–æ–∫
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ –¥–æ—Å—Ç–∞–≤–∫–∏

#### 2. –°—Ü–µ–Ω–∞—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```
–°—Ü–µ–Ω–∞—Ä–∏–π 1: –ë–∞–∑–æ–≤—ã–π –≤–≤–æ–¥
1. –û—Ç–∫—Ä—ã—Ç—å —ç–∫—Ä–∞–Ω –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞
2. –í–≤–µ—Å—Ç–∏ "Volz" –≤ –ø–æ–ª–µ –∞–¥—Ä–µ—Å–∞
3. –û–∂–∏–¥–∞–Ω–∏–µ: –ø–æ—è–≤–ª–µ–Ω–∏–µ –ø–æ–¥—Å–∫–∞–∑–æ–∫ —á–µ—Ä–µ–∑ 300ms
4. –í—ã–±—Ä–∞—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É
5. –û–∂–∏–¥–∞–Ω–∏–µ: –ø–æ–ª–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–æ, –ø–æ–∫–∞–∑–∞–Ω–∞ —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏

–°—Ü–µ–Ω–∞—Ä–∏–π 2: –†–∞—Å—á–µ—Ç –¥–æ—Å—Ç–∞–≤–∫–∏
1. –í–≤–µ—Å—Ç–∏ –∞–¥—Ä–µ—Å –í–æ–ª–∂—Å–∫–∞
2. –û–∂–∏–¥–∞–Ω–∏–µ: –ø–æ–∫–∞–∑–∞–Ω–∞ —Å—Ç–æ–∏–º–æ—Å—Ç—å 250‚ÇΩ
3. –ò–∑–º–µ–Ω–∏—Ç—å —Å—É–º–º—É –∑–∞–∫–∞–∑–∞ –Ω–∞ 1500‚ÇΩ
4. –û–∂–∏–¥–∞–Ω–∏–µ: –ø–æ–∫–∞–∑–∞–Ω–æ "–ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞"
```

## üêõ –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. URL Encoding —Ä—É—Å—Å–∫–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∏—Ä–∏–ª–ª–∏—Ü—ã –≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Å–∫—Ä–∏–ø—Ç–µ
- **–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –ß–ê–°–¢–ò–ß–ù–û –†–ï–®–ï–ù–û
- **–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π UTF-8 encoding

### 2. –ó–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
- **–û–∂–∏–¥–∞–Ω–∏–µ**: 11 —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –∑–æ–Ω –í–æ–ª–∂—Å–∫–∞ (–î—Ä—É–∂–±–∞ 100‚ÇΩ, –ó–∞—Ä—è 250‚ÇΩ, –∏ —Ç.–¥.)
- **–†–µ–∞–ª—å–Ω–æ—Å—Ç—å**: Backend –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –∑–æ–Ω—É 250‚ÇΩ
- **–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –¢–†–ï–ë–£–ï–¢ –£–¢–û–ß–ù–ï–ù–ò–Ø
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∑–æ–Ω –Ω–∞ Backend

## üìä –°–≤–æ–¥–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|--------|----------|
| API –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ | ‚úÖ | –†–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ |
| –ü–æ–¥—Å–∫–∞–∑–∫–∏ –∞–¥—Ä–µ—Å–æ–≤ | ‚úÖ | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ |
| –†–∞—Å—á–µ—Ç –¥–æ—Å—Ç–∞–≤–∫–∏ | ‚úÖ | –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç—å –∏ –≤—Ä–µ–º—è |
| –ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ | ‚úÖ | –†–∞–±–æ—Ç–∞–µ—Ç –æ—Ç 1200‚ÇΩ |
| –ó–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ | ‚ö†Ô∏è | –¢–æ–ª—å–∫–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –∑–æ–Ω–∞ |
| –ö–æ–º–ø–∏–ª—è—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ | ‚úÖ | –ë–µ–∑ –æ—à–∏–±–æ–∫ |
| UI –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã | üîÑ | –í –ø—Ä–æ—Ü–µ—Å—Å–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è |

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ö—Ä–∏—Ç–∏—á–Ω—ã–µ
1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å Backend –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é** –∑–æ–Ω–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –í–æ–ª–∂—Å–∫–∞
2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫** –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ
1. –î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∞–¥—Ä–µ—Å–æ–≤
2. –£–ª—É—á—à–∏—Ç—å URL encoding –¥–ª—è —Ä—É—Å—Å–∫–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤
3. –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ API

## üöÄ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ production

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å**: 85% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

**–ë–ª–æ–∫–µ—Ä—ã**:
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–æ–Ω–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –Ω–∞ Backend
- –§–∏–Ω–∞–ª—å–Ω–æ–µ UI —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ì–æ—Ç–æ–≤–æ**:
- API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è  
- –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

---

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥**: –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ 