# üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –°–ë–ü –ø–ª–∞—Ç–µ–∂–µ–π - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

**–î–∞—Ç–∞**: 30.01.2025  
**–°—Ç–∞—Ç—É—Å**: –í –ø—Ä–æ—Ü–µ—Å—Å–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏  

## üö® –ü—Ä–æ–±–ª–µ–º–∞

–°–ë–ü –ø–ª–∞—Ç–µ–∂–∏ –Ω–µ –ø–µ—Ä–µ–∫–∏–¥—ã–≤–∞—é—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –Æ–ö–∞—Å—Å—ã, –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –∑–∞–∫–∞–∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –∫–∞–∫ "–ö–∞—Ä—Ç–æ–π/–Ω–∞–ª–∏—á–Ω—ã–º–∏ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏".

## üîç –°–∏–º–ø—Ç–æ–º—ã

1. ‚úÖ –ó–∞–∫–∞–∑ —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤ backend —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º `delivery_type` –∏ `delivery_cost`
2. ‚ùå –ù–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–µ—Ä–µ—Ö–æ–¥ –∫ –Æ–ö–∞—Å—Å–µ –¥–ª—è –°–ë–ü –æ–ø–ª–∞—Ç—ã
3. ‚ùå –í –ª–æ–≥–∞—Ö –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –æ —Å–æ–∑–¥–∞–Ω–∏–∏ –°–ë–ü –ø–ª–∞—Ç–µ–∂–∞

## üìã –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –®–∞–≥ 1: –í—ã–±–µ—Ä–∏—Ç–µ –°–ë–ü –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä –≤ –∫–æ—Ä–∑–∏–Ω—É
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –∫ –æ–ø–ª–∞—Ç–µ
4. **–í–∞–∂–Ω–æ**: –í—ã–±–µ—Ä–∏—Ç–µ "–°–ë–ü" –∫–∞–∫ —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã
5. –ù–∞–∂–º–∏—Ç–µ "–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑"

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Android Studio

–ù–∞–π–¥–∏—Ç–µ –≤ –ª–æ–≥–∞—Ö —Å–ª–µ–¥—É—é—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è:

#### ‚úÖ –õ–æ–≥–∏ –≤—ã–±–æ—Ä–∞ —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã:
```
PaymentViewModel: üîÑ –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã:
PaymentViewModel:   –ë—ã–ª–æ: [–ø—Ä–µ–¥—ã–¥—É—â–∏–π —Å–ø–æ—Å–æ–±]
PaymentViewModel:   –°—Ç–∞–ª–æ: –°–ë–ü (SBP)
PaymentViewModel: ‚úÖ –°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω:
PaymentViewModel:   –¢–µ–ø–µ—Ä—å selectedPaymentMethod: SBP
```

#### ‚úÖ –õ–æ–≥–∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–∫–∞–∑–∞:
```
PaymentViewModel: üîç –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –°–ü–û–°–û–ë–ê –û–ü–õ–ê–¢–´:
PaymentViewModel:   selectedPaymentMethod: SBP
PaymentViewModel:   selectedPaymentMethod.displayName: –°–ë–ü
PaymentViewModel:   PaymentMethod.SBP: SBP
PaymentViewModel:   –†–∞–≤–Ω—ã –ª–∏ –æ–Ω–∏? true
PaymentViewModel:   orderId != null? true
PaymentViewModel:   orderId: [–Ω–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞]
```

#### ‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
```
PaymentViewModel: ‚úÖ –£–°–õ–û–í–ò–ï –í–´–ü–û–õ–ù–ï–ù–û: –°–æ–∑–¥–∞–µ–º –ø–ª–∞—Ç–µ–∂ –°–ë–ü –¥–ª—è –∑–∞–∫–∞–∑–∞ [ID]
PaymentViewModel: üîÑ –°–æ–∑–¥–∞–Ω–∏–µ –°–ë–ü –ø–ª–∞—Ç–µ–∂–∞ —á–µ—Ä–µ–∑ –Æ–ö–∞—Å—Å–∞ API –¥–ª—è –∑–∞–∫–∞–∑–∞ [ID]
```

#### ‚ùå –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ —ç—Ç–æ - –ø—Ä–æ–±–ª–µ–º–∞ –Ω–∞–π–¥–µ–Ω–∞:
```
PaymentViewModel: ‚ùå –£–°–õ–û–í–ò–ï –ù–ï –í–´–ü–û–õ–ù–ï–ù–û: –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ handleOrderSuccess
PaymentViewModel:   –ü—Ä–∏—á–∏–Ω–∞:
PaymentViewModel:     - selectedPaymentMethod ([–∑–Ω–∞—á–µ–Ω–∏–µ]) != PaymentMethod.SBP
```

## üîß –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–∏—á–∏–Ω–∞ 1: –°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º**: –í –ª–æ–≥–∞—Ö `selectedPaymentMethod != SBP`

**–ü—Ä–æ–≤–µ—Ä–∫–∞**: –ù–∞–π–¥–∏—Ç–µ –ª–æ–≥–∏ `"üîÑ –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã"` –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ª–∏ –≤—ã–±–æ—Ä –°–ë–ü.

**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–±–ª–µ–º–∞ –≤ UI - —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã –Ω–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ ViewModel

### –ü—Ä–∏—á–∏–Ω–∞ 2: –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º**: –í—ã–±–æ—Ä –°–ë–ü –µ—Å—Ç—å –≤ –ª–æ–≥–∞—Ö, –Ω–æ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–∫–∞–∑–∞ —É–∂–µ –¥—Ä—É–≥–æ–π —Å–ø–æ—Å–æ–±

**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–±–ª–µ–º–∞ –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è

### –ü—Ä–∏—á–∏–Ω–∞ 3: –ó–∞–∫–∞–∑ –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º**: `orderId == null`

**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–±–ª–µ–º–∞ –≤ backend API —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞

## üìä –û—Ç–ø—Ä–∞–≤–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–ü–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–ø—Ä–∞–≤—å—Ç–µ:

1. **–ü–æ–ª–Ω—ã–µ –ª–æ–≥–∏** –∏–∑ Android Studio (—Ñ–∏–ª—å—Ç—Ä –ø–æ `PaymentViewModel`)
2. **–°–∫—Ä–∏–Ω—à–æ—Ç** —ç–∫—Ä–∞–Ω–∞ –≤—ã–±–æ—Ä–∞ —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã
3. **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é** –æ —Ç–æ–º, –≤—ã–±–∏—Ä–∞–ª–∏ –ª–∏ –≤—ã –°–ë–ü –≤ UI

## üéØ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Å–ª–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

–ü–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞ –ª–æ–≥–æ–≤ –±—É–¥–µ—Ç —è—Å–Ω–æ:
- –ü–µ—Ä–µ–¥–∞–µ—Ç—Å—è –ª–∏ –≤—ã–±–æ—Ä –°–ë–ü –≤ PaymentViewModel
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ª–∏ —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã –¥–æ –º–æ–º–µ–Ω—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞
- –í —á–µ–º –∏–º–µ–Ω–Ω–æ –ø—Ä–∏—á–∏–Ω–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ –Æ–ö–∞—Å—Å–µ

---

**üìã –°—Ç–∞—Ç—É—Å**: –ì–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–æ–π 